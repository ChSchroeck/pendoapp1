<html>
<header>
    <!-- Pendo snippet-->
    <script>
        (function (apiKey) {
            (function (p, e, n, d, o) {
                var v, w, x, y, z; o = p[d] = p[d] || {}; o._q = o._q || [];
                v = ['initialize', 'identify', 'updateOptions', 'pageLoad', 'track', 'trackAgent']; for (w = 0, x = v.length; w < x; ++w)(function (m) {
                    o[m] = o[m] || function () { o._q[m === v[0] ? 'unshift' : 'push']([m].concat([].slice.call(arguments, 0))); };
                })(v[w]);
                y = e.createElement(n); y.async = !0; y.src = 'https://cdn.pendo.io/agent/static/' + apiKey + '/pendo.js';
                z = e.getElementsByTagName(n)[0]; z.parentNode.insertBefore(y, z);
            })(window, document, 'script', 'pendo');

            // This function creates visitors and accounts in Pendo
            // You will need to replace <visitor-id-goes-here> and <account-id-goes-here> with values you use in your app
            // Please use Strings, Numbers, or Bools for value types.
            pendo.initialize({
                visitor: {
                    id: "user_001", // Required if user is logged in
                    email: "user_001@schroeck-online.de", // Recommended if using Pendo Feedback, or NPS Email
                    full_name: "User NummerEins", // Recommended if using Pendo Feedback
                    role: "User"// Optional

                    // You can add any additional visitor level key-values here,
                    // as long as it's not one of the above reserved names.
                },

                account: {
                    id: "company_001", // Highly recommended, required if using Pendo Feedback or OEM Adopt
                    name: "Schroeck Holding",
                    is_paying: true,
                    // monthly_value:// Recommended if using Pendo Feedback
                    // planLevel:    // Optional
                    // planPrice:    // Optional
                    // creationDate: // Optional

                    // You can add any additional account level key-values here,
                    // as long as it's not one of the above reserved names.
                }
            });
        })('1f4ace73-ba35-43a6-9d96-ff4d272372a9');
    </script>
</header>

<body>
    <!-- Agent Analytics  -->
    <script>
        const CONV_ID = "conv_004"
        // User Prompt
        console.log("User prompting")
        window.pendo.trackAgent('prompt', {
            agentId: 'kJoqW4oNiuMt1EMhHlqXiJpG0I8',
            conversationId: CONV_ID,
            messageId: 'msg_001',
            content: 'How do I reset my password?',
            modelUsed: 'internal-1',
            suggestedPrompt: false,
            toolsUsed: [],
            fileUploaded: false
        });
        // Agent Response
        setTimeout(() => {
            console.log("Agent responding");
            window.pendo.trackAgent('agent_response', {
                agentId: 'kJoqW4oNiuMt1EMhHlqXiJpG0I8',
                conversationId: CONV_ID,
                messageId: 'msg_002',
                content: 'To reset your password, go to Settings > Account > Reset Password...',
                modelUsed: 'internal-1',
                suggestedPrompt: false,
                toolsUsed: ['knowledge_base'],
                fileUploaded: false
            });
            setTimeout(() => {
                //User Reacts
                console.log("User reacting");
                window.pendo.trackAgent('user_reaction', {
                    agentId: 'kJoqW4oNiuMt1EMhHlqXiJpG0I8',
                    conversationId: CONV_ID,
                    messageId: 'msg_002', // The reaction is tied to the same messageId as the response
                    content: 'negative', // Can be "positive", "negative", or "mixed"
                    modelUsed: 'internal-1',
                    suggestedPrompt: false,
                    toolsUsed: ['knowledge_base'],
                    fileUploaded: false
                });
                setTimeout(() => {
                    // User Prompt
                    console.log("User rage promting")
                    window.pendo.trackAgent('prompt', {
                        agentId: 'kJoqW4oNiuMt1EMhHlqXiJpG0I8',
                        conversationId: CONV_ID,
                        messageId: 'msg_001',
                        content: 'I\'VE ALREAD TRIED THIS HUNDRED TIMES!!!',
                        modelUsed: 'internal-1',
                        suggestedPrompt: false,
                        toolsUsed: [],
                        fileUploaded: false
                    });
                }, 5000);
            }, 10000);
        }, 15000);
    </script>
</body>

</html>